(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{297:function(t,a,e){"use strict";e.r(a);var r=e(14),s=Object(r.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"portainer-生产环境安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#portainer-生产环境安装"}},[t._v("#")]),t._v(" Portainer 生产环境安装")]),t._v(" "),a("p",[t._v("Portainer 是一个非常强大的容器图形化管理平台。")]),t._v(" "),a("p",[t._v("官方网站"),a("a",{attrs:{href:"https://www.portainer.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.portainer.io/"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.bilibili.com/video/BV1Kf4y1v71M/",target:"_blank",rel:"noopener noreferrer"}},[t._v("操作视频"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"部署命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署命令"}},[t._v("#")]),t._v(" 部署命令")]),t._v(" "),a("p",[t._v("下载部署文件")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-L")]),t._v(" https://downloads.portainer.io/portainer-agent-stack.yml "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" portainer-agent-stack.yml\n")])])]),a("p",[t._v("以 swarm stack 模式部署")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("docker stack deploy -c portainer-agent-stack.yml portainer\n")])])]),a("h2",{attrs:{id:"nginx-反代开启-websocket-支持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-反代开启-websocket-支持"}},[t._v("#")]),t._v(" nginx 反代开启 websocket 支持")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_http_version")]),t._v(" 1.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v(" Upgrade "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$http_upgrade")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token directive"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v(" Connection "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"upgrade"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=s.exports}}]);