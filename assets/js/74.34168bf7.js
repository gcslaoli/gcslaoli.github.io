(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{345:function(s,t,a){"use strict";a.r(t);var e=a(14),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"go-oss"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#go-oss"}},[s._v("#")]),s._v(" go-oss")]),s._v(" "),t("p",[s._v("模拟阿里云 OSS 服务,支持前端签名上传.")]),s._v(" "),t("p",[s._v("DockerHub: "),t("a",{attrs:{href:"https://hub.docker.com/r/gcslaoli/go-oss",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://hub.docker.com/r/gcslaoli/go-oss"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("Github: "),t("a",{attrs:{href:"https://github.com/gcslaoli/go-oss",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/gcslaoli/go-oss"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"拉取镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#拉取镜像"}},[s._v("#")]),s._v(" 拉取镜像")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull gcslaoli/go-oss\n")])])]),t("h2",{attrs:{id:"配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[s._v("#")]),s._v(" 配置文件")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  config.yaml")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("address")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":8000"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务监听地址")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("clientMaxBodySize")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("810241024")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 客户端最大Body上传限制大小，影响文件上传大小(Byte)。默认为8*1024*1024=8MB")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("logger")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("level")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"all"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志级别")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("stdout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否输出到控制台")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("oss")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("allowAnonymous")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否允许匿名上传,开启后不需要签，但上传的文件将会被替换为随机文件名")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("baseUrl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://oss.dev.lidong.xin"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OSS访问域名")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("keySecrets")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("yourKey")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"your-secrets"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# key 和 secret 用于前端签名上传, 请自行修改,支持多个")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("key2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"secrets2"')]),s._v("\n")])])]),t("h2",{attrs:{id:"docker-compose"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[s._v("#")]),s._v(" docker-compose")]),s._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker-compose.yaml")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("services")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("go-oss")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gcslaoli/go"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("oss"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("latest\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("restart")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" always\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 8000"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8000")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" /data/go"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("oss"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/app/upload\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" config.yaml"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/app/config.yaml\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);